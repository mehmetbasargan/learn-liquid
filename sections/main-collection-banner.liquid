<section
  class="relative w-full overflow-hidden flex items-center justify-center"
  style="height: {{ section.settings.hero_height }}vh; min-height: 350px;"
>
  <div class="absolute inset-0 z-0">
    {% if collection.image %}
      {{
        collection.image
        | image_url: width: 2000
        | image_tag: class: 'w-full h-full object-cover object-center object-top', loading: 'eager'
      }}
    {% elsif section.settings.fallback_image != blank %}
      {{
        section.settings.fallback_image
        | image_url: width: 2000
        | image_tag: class: 'w-full h-full object-cover object-center object-top', loading: 'eager'
      }}
    {% else %}
      <div class="w-full h-full bg-primary"></div>
    {% endif %}

    <div
      class="absolute inset-0"
      style="background-color: rgba(0,0,0, {{ section.settings.overlay_opacity | divided_by: 100.0 }});"
    ></div>
  </div>

  <div class="relative z-10 text-center px-4 max-w-4xl">
    <nav class="mb-4 text-[13px] uppercase tracking-[0.3em] text-custombg">
      <a href="{{ routes.root_url }}" class="hover:text-secondary transition-colors">{{ 'general.home' | t }}</a>
      <span class="mx-2">/</span>
      <span class="">{{ collection.title }}</span>
    </nav>
    <h2 class="text-custombg font-light tracking-[0.1em] uppercase drop-shadow-sm">
      {{ collection.title }}
    </h2>
  </div>
</section>

{% schema %}
{
  "name": "Collection Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "fallback_image",
      "label": "Fallback Image",
      "info": "If there is no collection-specific image (for example, the All Products page), this image will be displayed."
    },
    {
      "type": "range",
      "id": "hero_height",
      "min": 20,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "label": "Banner Height",
      "default": 50
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 90,
      "step": 10,
      "label": "Image Overlay",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "Collection Banner"
    }
  ]
}
{% endschema %}
